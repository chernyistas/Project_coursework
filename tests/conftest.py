import pytest


@pytest.fixture
def transactions() -> list:
    return [
        {
            "Дата операции": "04.01.2018 15:00:41",
            "Дата платежа": "05.01.2018",
            "Номер карты": "*7197",
            "Статус": "OK",
            "Сумма операции": -1025.0,
            "Валюта операции": "RUB",
            "Сумма платежа": -1025.0,
            "Валюта платежа": "RUB",
            "Кэшбэк": 0.0,
            "Категория": "Топливо",
            "MCC": 5541.0,
            "Описание": "Pskov AZS 12 K2",
            "Бонусы (включая кэшбэк)": 20,
            "Округление на инвесткопилку": 0,
            "Сумма операции с округлением": 1025.0,
        },
        {
            "Дата операции": "04.01.2018 14:05:08",
            "Дата платежа": "06.01.2018",
            "Номер карты": "*7197",
            "Статус": "OK",
            "Сумма операции": -1065.9,
            "Валюта операции": "RUB",
            "Сумма платежа": -1065.9,
            "Валюта платежа": "RUB",
            "Кэшбэк": 0.0,
            "Категория": "Супермаркеты",
            "MCC": 5411.0,
            "Описание": "Пятёрочка",
            "Бонусы (включая кэшбэк)": 21,
            "Округление на инвесткопилку": 0,
            "Сумма операции с округлением": 1065.9,
        },
        {
            "Дата операции": "03.01.2018 15:03:35",
            "Дата платежа": "04.01.2018",
            "Номер карты": "*7197",
            "Статус": "OK",
            "Сумма операции": -73.06,
            "Валюта операции": "RUB",
            "Сумма платежа": -73.06,
            "Валюта платежа": "RUB",
            "Кэшбэк": 0.0,
            "Категория": "Супермаркеты",
            "MCC": 5499.0,
            "Описание": "Magazin 25",
            "Бонусы (включая кэшбэк)": 1,
            "Округление на инвесткопилку": 0,
            "Сумма операции с округлением": 73.06,
        },
        {
            "Дата операции": "03.01.2018 14:55:21",
            "Дата платежа": "05.01.2018",
            "Номер карты": "*7197",
            "Статус": "OK",
            "Сумма операции": -21.0,
            "Валюта операции": "RUB",
            "Сумма платежа": -21.0,
            "Валюта платежа": "RUB",
            "Кэшбэк": 0.0,
            "Категория": "Красота",
            "MCC": 5977.0,
            "Описание": "OOO Balid",
            "Бонусы (включая кэшбэк)": 0,
            "Округление на инвесткопилку": 0,
            "Сумма операции с округлением": 21.0,
        },
        {
            "Дата операции": "01.01.2018 20:27:51",
            "Дата платежа": "04.01.2018",
            "Номер карты": "*7197",
            "Статус": "OK",
            "Сумма операции": -316.0,
            "Валюта операции": "RUB",
            "Сумма платежа": -316.0,
            "Валюта платежа": "RUB",
            "Кэшбэк": 0.0,
            "Категория": "Красота",
            "MCC": 5977.0,
            "Описание": "OOO Balid",
            "Бонусы (включая кэшбэк)": 6,
            "Округление на инвесткопилку": 0,
            "Сумма операции с округлением": 316.0,
        },
        {
            "Дата операции": "01.01.2018 12:49:53",
            "Дата платежа": "01.01.2018",
            "Номер карты": "Нет данных",
            "Статус": "OK",
            "Сумма операции": -3000.0,
            "Валюта операции": "RUB",
            "Сумма платежа": -3000.0,
            "Валюта платежа": "RUB",
            "Кэшбэк": 0.0,
            "Категория": "Переводы",
            "MCC": 0.0,
            "Описание": "Линзомат ТЦ Юность",
            "Бонусы (включая кэшбэк)": 0,
            "Округление на инвесткопилку": 0,
            "Сумма операции с округлением": 3000.0,
        },
    ]


@pytest.fixture
def df_transactions() -> dict:
    return {
        "Дата операции": [
            "01.07.2025 12:00:00",
            "15.07.2025 14:30:00",
            "20.07.2025 10:00:00",
            "01.08.2025 11:00:00",
            "15.08.2025 15:00:00",
            "20.08.2025 09:00:00",
            "01.09.2025 13:00:00",
            "15.09.2025 16:00:00",
            "20.09.2025 11:00:00",
        ],
        "Категория": [
            "Супермаркет",
            "Супермаркет",
            "Развлечения",
            "Супермаркет",
            "Развлечения",
            "Супермаркет",
            "Развлечения",
            "Супермаркет",
            "Развлечения",
        ],
        "Сумма операции": [1000.00, 2000.00, 1500.00, 1200.00, 1800.00, 1100.00, 2200.00, 1300.00, 2500.00],
    }


@pytest.fixture
def test_data() -> dict:
    return {
        "Номер карты": ["1234567890", "2345678901", "3456789012"],
        "Кэшбэк": [100, 200, 300],
        "MCC": [5311, 5411, 5511],
        "Название": ["Карта 1", "Карта 2", "Карта 3"],
    }


@pytest.fixture
def test_physical_transactions() -> list:
    return [
        {"Категория": "Переводы", "Описание": "Иванов И.", "Сумма": 1000},
        {"Категория": "Платежи", "Описание": "Петров П.", "Сумма": 2000},
        {"Категория": "Переводы", "Описание": "Сидоров С."},
        {"Категория": "Переводы", "Описание": "Некорректный формат"},
    ]
